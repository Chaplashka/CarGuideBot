<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>CarGuideBot –ö–∞—Ç–∞–ª–æ–≥</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            background: #f8f9fb;
            color: #23262f;
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0; padding: 0;
        }
        .container {
            max-width: 440px;
            margin: 0 auto;
            padding: 0 10px;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px 0 10px 0;
        }
        .profile-img {
            width: 34px;
            height: 34px;
            border-radius: 50%;
            background: #e6eaf1;
        }
        .search-row {
            display: flex;
            margin-bottom: 22px;
            gap: 10px;
        }
        .search-inp {
            flex: 1;
            border: 1.5px solid #e0e3ea;
            border-radius: 12px;
            padding: 12px 16px;
            font-size: 1rem;
            background: #fff;
            outline: none;
        }
        .search-btn {
            background: #23262f;
            color: #fff;
            border: none;
            border-radius: 12px;
            padding: 0 16px;
            font-size: 1.22rem;
            cursor: pointer;
            display: flex; align-items: center; justify-content: center;
        }
        .brands-row {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
            overflow-x: auto;
        }
        .brand-tile {
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 2px 10px 0 #e2e5f170;
            display: flex; flex-direction: column; align-items: center;
            padding: 8px 14px;
            min-width: 66px;
            cursor: pointer;
            transition: box-shadow 0.12s;
        }
        .brand-tile.selected, .brand-tile:hover {
            box-shadow: 0 6px 20px 0 #b7d4ff50;
        }
        .brand-logo {
            width: 32px; height: 32px; margin-bottom: 5px;
            object-fit: contain;
        }
        .brand-name {
            font-size: 0.95rem;
            color: #1d2229;
            opacity: 0.82;
        }
        .cars-list {
            margin-bottom: 30px;
        }
        .car-card {
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 4px 24px 0 #e0e3ea55;
            padding: 18px 16px;
            display: flex;
            gap: 16px;
            color: #222;
            margin-bottom: 18px;
            align-items: center;
        }
        .car-img img {
            width: 88px;
            height: 56px;
            object-fit: cover;
            border-radius: 12px;
            background: #f0f2f7;
        }
        .car-info { flex: 1; }
        .car-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 6px;
        }
        .car-meta {
            margin-top: 8px;
            display: flex;
            gap: 10px;
            align-items: center;
            font-size: 0.97rem;
        }
        .car-price {
            font-weight: 600; color: #23262f; font-size: 1.07rem;
        }
        .car-btn {
            background: #23262f;
            color: #fff;
            border: none;
            border-radius: 10px;
            padding: 10px 15px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.98rem;
            margin-left: 8px;
            transition: background 0.16s;
        }
        .car-btn:active { background: #344058; }
        .car-rating {
            color: #ffaa1b;
            margin-right: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div>üìç –í–∞—à –≥–æ—Ä–æ–¥</div>
            <div class="profile-img"></div>
        </div>
        <div class="search-row">
            <input class="search-inp" placeholder="–ü–æ–∏—Å–∫ –ø–æ –º–æ–¥–µ–ª–∏ –∏–ª–∏ –º–∞—Ä–∫–µ" id="searchInp">
            <button class="search-btn" id="searchBtn">üîç</button>
        </div>
        <div class="brands-row" id="brandsRow">
            <!-- –ë—Ä–µ–Ω–¥—ã –∞–≤—Ç–æ -->
        </div>
        <div class="cars-list" id="carsList">
            <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∞–≤—Ç–æ -->
        </div>
    </div>
    <script>
        // –ü—Ä–∏–≤—è–∑–∫–∞ –ª–æ–≥–æ –±—Ä–µ–Ω–¥–æ–≤ (–º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
        const BRAND_LOGOS = {
            "Mercedes": "https://cdn.iconscout.com/icon/free/png-256/mercedes-benz-2-202836.png",
            "Audi": "https://cdn.iconscout.com/icon/free/png-256/audi-6-202739.png",
            "Tesla": "https://cdn.iconscout.com/icon/free/png-256/tesla-11-202766.png",
            "Nissan": "https://cdn.iconscout.com/icon/free/png-256/nissan-10-202770.png",
            "Ferrari": "https://cdn.iconscout.com/icon/free/png-256/ferrari-10-202699.png"
        };
        // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è —Ñ–æ—Ç–æ –∞–≤—Ç–æ
        const PLACEHOLDER_IMG = "https://cdn-icons-png.flaticon.com/512/854/854866.png";
        // –ü—Ä–∏–º–µ—Ä–Ω—ã–π –º–∞—Å—Å–∏–≤ —Ñ–æ—Ç–æ (–ø–æ–¥ –∫–∞–∂–¥—É—é –º–∞—Ä–∫—É –º–æ–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å —Å–≤–æ–π URL)
        const CAR_PHOTOS = {
            "Tesla": "https://pngimg.com/uploads/tesla_model_s/tesla_model_s_PNG12.png",
            "BMW": "https://pngimg.com/uploads/bmw/bmw_PNG99507.png",
            "Audi": "https://pngimg.com/uploads/audi/audi_PNG1769.png",
            "Kia": "https://pngimg.com/uploads/kia/kia_PNG10230.png",
            "Mercedes-Benz": "https://pngimg.com/uploads/mercedes/mercedes_PNG80169.png"
        };

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
        let allCars = []; // –í—Å–µ –∞–≤—Ç–æ
        let uniqueBrands = []; // –î–ª—è Trending Brands

        fetch('https://chaplashka.github.io/CarGuideBot/car_data.json')
            .then(r=>r.json())
            .then(data=>{
                // –ò–∑–≤–ª–µ–∫–∞–µ–º –ª–µ–≥–∫–æ–≤—ã–µ –∞–≤—Ç–æ (PASSENGER_CAR_DATA)
                const pcars = data.PASSENGER_CAR_DATA;
                allCars = [];
                uniqueBrands = [];
                Object.keys(pcars).forEach(brand=>{
                    if (!uniqueBrands.includes(brand)) uniqueBrands.push(brand);
                    Object.keys(pcars[brand]).forEach(model=>{
                        (pcars[brand][model]||[]).forEach(gen=>{
                            allCars.push({
                                brand: brand,
                                model: model,
                                generation: gen,
                                year: '', // –ú–æ–∂–Ω–æ –≤—ã—Ç—è–Ω—É—Ç—å –µ—Å–ª–∏ –µ—Å—Ç—å
                                price: Math.floor(Math.random()*30)*50+200, // –†–∞–Ω–¥–æ–º–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
                                img: CAR_PHOTOS[brand] || PLACEHOLDER_IMG,
                                rating: (Math.random()*1+4).toFixed(1),
                                reviews: Math.floor(Math.random()*80+20)
                            });
                        });
                    });
                });
                renderBrands();
                renderCars();
            });

        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –±—Ä–µ–Ω–¥–æ–≤-–ø–ª–∏—Ç–æ–∫
        function renderBrands() {
            const row = document.getElementById('brandsRow');
            row.innerHTML = "";
            uniqueBrands.slice(0,7).forEach(brand=>{
                let logo = BRAND_LOGOS[brand] || PLACEHOLDER_IMG;
                row.innerHTML += `
                <div class="brand-tile" onclick="filterBrand('${brand}')">
                    <img class="brand-logo" src="${logo}">
                    <div class="brand-name">${brand}</div>
                </div>
                `;
            });
        }
        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∞–≤—Ç–æ
        function renderCars(filtered=allCars) {
            const list = document.getElementById('carsList');
            list.innerHTML = "";
            filtered.forEach(car=>{
                list.innerHTML += `
                <div class="car-card">
                    <div class="car-img">
                        <img src="${car.img}">
                    </div>
                    <div class="car-info">
                        <div class="car-title">${car.brand} ${car.model} <span style="color:#c7c8cf;">${car.generation||""}</span></div>
                        <div class="car-meta">
                            <span class="car-rating">‚≠ê ${car.rating}</span>
                            <span style="color:#889;">(${car.reviews})</span>
                        </div>
                        <div class="car-meta">
                            <span class="car-price">${car.price}‚ÇΩ/–î–µ–Ω—å</span>
                            <button class="car-btn">–ö—É–ø–∏—Ç—å</button>
                        </div>
                    </div>
                </div>
                `;
            });
        }
        // –ü–æ–∏—Å–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ
        document.getElementById('searchBtn').onclick = ()=>{
            const q = document.getElementById('searchInp').value.trim().toLowerCase();
            if (!q) { renderCars(); return; }
            renderCars(allCars.filter(car=>
                (car.brand+" "+car.model+" "+car.generation).toLowerCase().includes(q)
            ));
        }
        // –§–∏–ª—å—Ç—Ä –ø–æ –±—Ä–µ–Ω–¥—É
        function filterBrand(brand) {
            renderCars(allCars.filter(car=>car.brand===brand));
        }
    </script>
</body>
</html>
